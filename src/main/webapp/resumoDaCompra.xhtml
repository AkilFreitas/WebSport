<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <style>
        div.DivDaCamisa{
            position: absolute;
            margin-left: 0px;
            margin-top: 1px;
            width: 115px;
            height: 39px;
            z-index: 1;
        }

    </style>
    <h:head>
        <title>Resumo da Compra</title>
    </h:head>
    <ui:include src="home1.xhtml"/>
    <h:body>
        <p:growl id="gro" showDetail="true" showSummary="true"/>
        <h:form id="formCliente">
            <p:dataTable var="item" value="#{clienteController.recuperarTodosClientes()}"
                         rowKey="#{item.id}" paginator="true"
                         rows="5">
              
                <p:column headerText="Email" filterBy="#{item.email}">
                    <h:outputText value="#{item.email}"/>
                </p:column>
                <p:column headerText="Sexo" filterBy="#{item.sexo}">
                    <h:outputText value="#{item.sexo}"/>
                </p:column>
                <p:column headerText="Idade" filterBy="#{item.idade}">
                    <h:outputText value="#{item.idade}"/>
                </p:column>
                
                <p:column headerText="operações" style="width: 12%">
                    <p:commandButton icon="ui-icon-search" oncomplete="PF('widDialVisualizaCliente').show()" 
                                     update=":formCliente:dialVisualizaCliente">
                        <f:setPropertyActionListener value="#{item}" target="#{clienteController.selectedCliente}"/>
                    </p:commandButton>
                </p:column>           
            </p:dataTable>


            <p:dialog id="dialVisualizaCliente" visible="false" modal="true"
                      resizable="false" widgetVar="widDialVisualizaCliente"
                      header="dados da cliente">
                <p:panelGrid columns="2">
                    <h:outputText value="Email"/>
                    <h:outputText value="#{clienteController.selectedCliente.email}"/>

                    <h:outputText value="Sexo"/>
                    <h:outputText value="#{clienteController.selectedCliente.sexo}"/>

                    <h:outputText value="Idade"/>
                    <h:outputText value="#{clienteController.selectedCliente.idade}"/>

                    <h:outputText value="Cep"/>
                    <h:outputText value="#{clienteController.selectedCliente.endereco.cep}"/>

                    <h:outputText value="Rua"/>
                    <h:outputText value="#{clienteController.selectedCliente.endereco.rua}"/>

                    <h:outputText value="Estado"/>
                    <h:outputText value="#{clienteController.selectedCliente.endereco.estado}"/>

                    <h:outputText value="Cidade"/>
                    <h:outputText value="#{clienteController.selectedCliente.endereco.cidade}"/>

                    <h:outputText value="Bairro"/>
                    <h:outputText value="#{clienteController.selectedCliente.endereco.bairro}"/>
                </p:panelGrid>                   
            </p:dialog>
        </h:form>
        <br></br>
        <br></br>
        <br></br>
        <br></br>
        <br></br>
        <h:form id="formProduto">
            <p:dataTable var="item" value="#{produtoController.getSelectedProdutos()}"
                         rowKey="#{item.id}">
                <f:facet name="header">
                    Produto
                </f:facet>
                <p:column headerText="Nome" filterBy="#{item.nome}">
                    <h:outputText value="#{item.nome}"/>
                </p:column>
                <p:column headerText="Imagem" filterBy="#{item.imagem}">
                    <h:outputText value="#{item.imagem}"/>
                </p:column>
                <p:column headerText="Preço" filterBy="#{item.preco}">
                    <h:outputText value="#{item.preco}"/>
                </p:column>
                
            </p:dataTable>
        </h:form>
    </h:body>
</html>
