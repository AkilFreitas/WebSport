<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
 <?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        
        <ui:include src="menu.xhtml"/>
        
        <p:growl id="gro" life="3000"/>
        
        <h:form id="formApresentaCompra">
            <p:dataTable id="tabelaCompra" var="item" value="#{compraController.recuperarTodosCompras()}"
                         rowKey="#{item.id}" selectionMode="single" selection="#{compraController.selectedCompra}">
                <f:facet name="header">
                    Compras Cadastradas
                </f:facet>
                <p:column headerText="Id">
                    <h:outputText value="#{item.id}"/>
                </p:column>
                <p:column headerText="Data">
                   <h:outputText value="#{item.data}"/>
                </p:column>
                <p:column headerText="Total" filterBy="#{item.total}">
                    <h:outputText value="#{item.total}"/>
                </p:column>
                <p:column headerText="Cliente" filterBy="#{item.cliente}">
                    <h:outputText value="#{item.cliente}"/>
                </p:column>
                <p:column headerText="Frete" filterBy="#{item.frete}">
                    <h:outputText value="#{item.frete}"/>
                </p:column>
                <p:column headerText="Concluida" filterBy="#{item.concluida}">
                    <h:outputText value="#{item.concluida}"/>
                </p:column>
                <p:column headerText="Obersavacoes" filterBy="#{item.observacoes}">
                    <h:outputText value="#{item.observacoes}"/>
                </p:column>
                <p:column headerText="TipoDePagamento" filterBy="#{item.tipoDePagamento}">
                    <h:outputText value="#{item.tipoDePagamento}"/>
                </p:column>
                <p:column headerText="Produto" filterBy="#{item.produto}">
                    <h:outputText value="#{item.produto}"/>
                </p:column>
                <p:column headerText="PedidoRealizado" filterBy="#{item.pedidoRealizado}">
                    <h:outputText value="#{item.pedidoRealizado}"/>
                </p:column>
                <p:column headerText="PagamentoIdentificado" filterBy="#{item.pagamentoIdentificado}">
                    <h:outputText value="#{item.pagamentoIdentificado}"/>
                </p:column>
                <p:column headerText="EmProcessamento" filterBy="#{item.emProcessamento}">
                    <h:outputText value="#{item.emProcessamento}"/>
                </p:column>
                <p:column headerText="Enviado" filterBy="#{item.enviado}">
                    <h:outputText value="#{item.enviado}"/>
                </p:column>
                <p:column headerText="Concluido" filterBy="#{item.concluido}">
                    <h:outputText value="#{item.concluido}"/>
                </p:column>
                <p:column headerText="id" filterBy="#{item.id}">
                    <h:outputText value="#{item.id}"/>
                    <p:column headerText="Data" filterBy="#{item.data}">
                    <h:outputText value="#{item.data}"/>
                    <p:column headerText="Total" filterBy="#{item.total}">
                    <h:outputText value="#{item.total}"/>
                    <p:column headerText="Cliente" filterBy="#{item.cliente}">
                    <h:outputText value="#{item.cliente}"/>
                    <p:column headerText="Frete" filterBy="#{item.frete}">
                    <h:outputText value="#{item.frete}"/>
                    <p:column headerText="Concluida" filterBy="#{item.concluida}">
                    <h:outputText value="#{item.concluida}"/>
                    <p:column headerText="Observacoes" filterBy="#{item.obeservacoes}">
                    <h:outputText value="#{item.obeservacoes}"/>
                    <p:column headerText="TipoDePagamento" filterBy="#{item.tipoDePagamento}">
                    <h:outputText value="#{item.tipoDePagamento}"/>
                    <p:column headerText="Produto" filterBy="#{item.produto}">
                    <h:outputText value="#{item.produto}"/>
                    <p:column headerText="PedidoRealizado" filterBy="#{item.pedidoRealizado}">
                    <h:outputText value="#{item.pedidoRealizado}"/>
                    <p:column headerText="PagamentoIdentificado" filterBy="#{item.pagamentoIdentificado}">
                    <h:outputText value="#{item.pagamentoIdentificado}"/>
                    <p:column headerText="EmProcessamento" filterBy="#{item.emProcessamento}">
                    <h:outputText value="#{item.emProcessamento}"/>
                    <p:column headerText="Enviado" filterBy="#{item.enviado}">
                    <h:outputText value="#{item.enviado}"/>
                    <p:column headerText="Cloncluido" filterBy="#{item.cloncluido}">
                    <h:outputText value="#{item.cloncluido}"/>
                </p:column>
                </p:column>
                </p:column>
                </p:column>
                </p:column>
            </p:dataTable>
            
            <p:commandButton value="visualizar" oncomplete="PF('widDialVisualizaCompra').show()"
                             update='dialVisualizaliente'/>
            <p:commandButton value="atualizar" action='alteraCompra.xhtml'/>
            
             <p:commandButton value="Deletar" oncomplete="PF('widDialCompra').show()"/>
             
             <p:confirmDialog id="dialCompra" message="Deseja realmente apagar essa Compra?"
                             visible="false" widgetVar="widDialCompra" showEffect="fade"
                             hideEffect="explode">
                 
                <p:commandButton value="sim" 
                                 action="#{compraController.deletar(compraController.selectedCompra)}"
                                 oncomplete="PF('widDialCompra').hide()" update="@form"/>
                <p:commandButton value="nÃ£o" oncomplete="PF('widDialCompra').hide()"/>
            </p:confirmDialog>
            
            <p:dialog id="dialVisualizaCompra" visible="false" resizable="false"
                      modal="true" widgetVar="widDialVisualizaCompra">
                <p:panelGrid columns="2">
                    <h:outputText value="Id"/>
                    <h:outputText value="#{compraController.selectedCompra.id}"/>
                    
                    <h:outputText value="Data:"/>
                    <h:outputText value="#{compraController.selectedUsuario.data}"/>
                    
                    <h:outputText value="Total:"/>
                    <h:outputText value="#{compraController.selectedUsuario.total}"/>
                    
                    <h:outputText value="Cliente:"/>
                    <h:outputText value="#{compraController.selectedUsuario.cliente}"/>
                    
                    <h:outputText value="Observacoes"/>
                    <h:outputText value="#{compraController.selectedUsuario.observacoes}"/>
                    
                    <h:outputText value="TipoDePagamento"/>
                    <h:outputText value="#{compraController.selectedCompra.tipoDePagamento}"/>
                    
                    <h:outputText value="Produto"/>
                    <h:outputText value="#{compraController.selectedCompra.produto}"/>
                    
                    <h:outputText value="PedidoRealizado"/>
                    <h:outputText value="#{compraController.selectedCompra.pedidoRealizado}"/>
                    
                    <h:outputText value="PagamentoIdentificado"/>
                    <h:outputText value="#{compraController.selectedCompra.pagamentoIdentificado}"/>
                    
                    <h:outputText value="EmProcessamento"/>
                    <h:outputText value="#{compraController.selectedCompra.emProcessamento}"/>
                    
                    <h:outputText value="Enviado"/>
                    <h:outputText value="#{compraController.selectedCompra.enviado}"/>
                    
                    <h:outputText value="Concluido"/>
                    <h:outputText value="#{compraController.selectedCompra.concluido}"/>
                </p:panelGrid>
                <p:commandButton value="fechar" oncomplete="PF('widDialVisualizaCompra').hide()"/>
            </p:dialog>
            
        </h:form>
    </h:body>



</html>
